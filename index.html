<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CÃ¡maras de Seguridad</title>
    <link rel="icon" type="image/png" href="https://i.postimg.cc/wxbvV9V6/camera-360.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #e0e5ec;
            --secondary-color: #a3b1c6;
            --text-color: #4a5568;
            --accent-color: #5e72e4;
            --success-color: #2dce89;
            --white: #ffffff;
            --shadow-light: #ffffff;
            --shadow-dark: #a3b1c6;
        }

        body.dark-mode {
            --primary-color: #1c1e21;
            --secondary-color: #3b3e42;
            --text-color: #e0e5ec;
            --accent-color: #5e72e4;
            --success-color: #2dce89;
            --white: #1c1e21;
            --shadow-light: #2c2e32;
            --shadow-dark: #111214;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--primary-color);
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Dark Mode Toggle */
        .dark-mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            cursor: pointer;
            width: 50px;
            height: 50px;
            background: var(--primary-color);
            border-radius: 50%;
            box-shadow: 6px 6px 12px var(--shadow-dark), -6px -6px 12px var(--shadow-light);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .dark-mode-toggle:hover {
            box-shadow: inset 3px 3px 6px var(--shadow-dark), inset -3px -3px 6px var(--shadow-light);
        }

        .dark-mode-toggle i {
            font-size: 1.5rem;
            color: var(--text-color);
        }

        /* Neumorphism Header */
        header {
            background: var(--primary-color);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background 0.3s ease, box-shadow 0.3s ease;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo i {
            font-size: 2.5rem;
            color: var(--accent-color);
        }
        
        .logo h1 {
            font-size: 2rem;
            color: var(--text-color);
        }

        /* Search and Filter Section */
        .search-filter {
            background: var(--primary-color);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease, box-shadow 0.3s ease;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 12px 20px 12px 45px;
            border-radius: 50px;
            border: none;
            background: var(--primary-color);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
            font-size: 1rem;
            color: var(--text-color);
            transition: background 0.3s ease, box-shadow 0.3s ease;
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--secondary-color);
            transition: color 0.3s ease;
        }
        
        .filter-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: var(--primary-color);
            border: none;
            border-radius: 15px;
            padding: 10px 15px;
            font-size: 0.9rem;
            color: var(--text-color);
            cursor: pointer;
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            transition: all 0.3s ease;
        }

        .filter-btn:hover, .filter-btn.active {
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
            background: var(--accent-color);
            color: white;
        }

        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .product-card {
            background: var(--primary-color);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-image {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.5s ease;
            background-color: var(--primary-color);
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .product-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--accent-color);
            color: white;
            border-radius: 50px;
            padding: 5px 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .product-info {
            padding: 20px;
        }
        
        .product-name {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-color);
        }
        
        .product-price {
            font-size: 1.5rem;
            color: var(--accent-color);
            font-weight: bold;
            margin-bottom: 15px;
        }

        .product-description {
            font-size: 0.9rem;
            color: var(--text-color);
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-actions {
            display: flex;
            justify-content: space-between;
        }

        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 15px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary-color);
            color: var(--accent-color);
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
        }

        .btn-primary:hover {
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        }

        .btn-secondary {
            background: var(--primary-color);
            color: var(--text-color);
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
        }

        .btn-secondary:hover {
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        }
        
        .btn-success {
            background: var(--success-color);
            color: white;
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
        }

        .btn-success:hover {
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        }
        
        /* Selected Products Bar */
        .selected-bar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary-color);
            border-radius: 20px;
            padding: 15px 25px;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 100;
            max-width: 90%;
            transition: all 0.3s ease;
        }

        .selected-bar.hidden {
            transform: translateX(-50%) translateY(150%);
        }

        .selected-count {
            background: var(--accent-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        /* Product Detail Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--primary-color);
            border-radius: 20px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            transform: scale(0.7);
            transition: transform 0.3s ease;
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-header {
            position: relative;
            padding: 20px;
            border-bottom: 1px solid var(--secondary-color);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        }

        .modal-body {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        /* Image Gallery */
        .image-gallery {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
        }

        .gallery-main {
            width: 100%;
            height: auto;
            max-height: 350px;
            object-fit: contain;
            border-radius: 15px;
            background-color: var(--primary-color);
            cursor: zoom-in;
            transition: transform 0.3s ease;
        }

        .gallery-main:hover {
            transform: scale(1.02);
        }

        .gallery-thumbnails {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .gallery-thumbnail {
            width: 80px;
            height: 60px;
            object-fit: contain;
            border-radius: 10px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
            box-shadow: 3px 3px 6px var(--shadow-dark), -3px -3px 6px var(--shadow-light);
            background-color: var(--primary-color);
            flex-shrink: 0;
        }

        .gallery-thumbnail:hover,
        .gallery-thumbnail.active {
            opacity: 1;
            box-shadow: inset 3px 3px 6px var(--shadow-dark), inset -3px -3px 6px var(--shadow-light);
        }

        /* Product Info Section */
        .product-info-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .product-title-price {
            flex: 1;
        }
        
        .modal-info h2 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .modal-price {
            font-size: 1.8rem;
            color: var(--accent-color);
            font-weight: bold;
        }

        .modal-description {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--primary-color);
            padding: 15px;
            border-radius: 15px;
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        }

        .modal-features {
            margin-top: 5px;
        }
        
        .modal-features h3 {
            margin-bottom: 15px;
            color: var(--text-color);
            font-size: 1.2rem;
        }
        
        .modal-features ul {
            list-style-type: none;
            padding-left: 0;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
        }

        .modal-features li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 8px;
            background: var(--primary-color);
            border-radius: 10px;
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        }

        .modal-features li i {
            color: var(--success-color);
            margin-top: 3px;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 10px;
        }
        
        /* Image Zoom Modal */
        .zoom-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .zoom-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .zoom-container {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }
        
        .zoom-image {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
            display: block;
            transform-origin: center center;
        }
        
        .zoom-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }
        
        .zoom-btn {
            background: var(--primary-color);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            transition: all 0.3s ease;
            color: var(--text-color);
        }

        .zoom-btn:hover {
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        }
        
        .zoom-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            transition: all 0.3s ease;
            color: var(--text-color);
            z-index: 10;
        }

        .zoom-close:hover {
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        }
        
        .zoom-info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: var(--primary-color);
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--text-color);
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            z-index: 10;
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--primary-color);
            color: var(--text-color);
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
            z-index: 1000;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .modal-body {
                padding: 15px;
            }
            .gallery-main {
                max-height: 250px;
            }
            .modal-features ul {
                grid-template-columns: 1fr;
            }
            .product-header {
                flex-direction: column;
            }
            .selected-bar {
                width: 95%;
            }
            .gallery-thumbnail {
                width: 60px;
                height: 45px;
            }
        }
    </style>
</head>
<body>
    <div class="dark-mode-toggle" id="darkModeToggle">
        <i class="fas fa-moon"></i>
    </div>

    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <h1>CÃ¡maras de Seguridad</h1>
            </div>
        </header>

        <div class="search-filter">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Buscar cÃ¡maras...">
            </div>
            <div class="filter-group">
                <button class="filter-btn active" data-filter="all">Todas</button>
                <button class="filter-btn" data-filter="interior">Interior</button>
                <button class="filter-btn" data-filter="exterior">Exterior</button>
            </div>
        </div>

        <div class="products-grid" id="productsGrid">
            </div>
    </div>

    <div class="selected-bar hidden" id="selectedBar">
        <div class="selected-count" id="selectedCount">0</div>
        <span>Productos seleccionados</span>
        <button class="btn btn-success" id="shareBtn">
            <i class="fab fa-whatsapp"></i>
            Compartir
        </button>
    </div>

    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Detalles del Producto</h2>
                <button class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                </div>
        </div>
    </div>
    
    <div class="zoom-modal" id="zoomModal">
        <div class="zoom-container">
            <img src="" alt="Zoom" class="zoom-image" id="zoomImage">
            <div class="zoom-info">
                <span id="zoomLevel">100%</span> - Usa el ratÃ³n para mover la imagen
            </div>
            <div class="zoom-controls">
                <button class="zoom-btn" id="zoomIn">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="zoom-btn" id="zoomOut">
                    <i class="fas fa-minus"></i>
                </button>
                <button class="zoom-btn" id="zoomReset">
                    <i class="fas fa-compress"></i>
                </button>
            </div>
            <button class="zoom-close" id="zoomClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    
    <div class="toast" id="toast"></div>

    <script>
        // Product data - edit this directly to add/remove products
        const products = [
            {
                id: 1,
                name: "FJZKTEG CÃ¡mara IP WiFi de lente dual 4K",
                price: 38.00,
                category: "exterior",
                images: [
                    "https://i.postimg.cc/3wG1j2c2/01.png",
                    "https://i.postimg.cc/Kjh2cVSL/06.jpg",
                    "https://i.postimg.cc/jjCKMP4W/02.jpg",
                    "https://i.postimg.cc/7Lc4dhKK/03.jpg",
                    "https://i.postimg.cc/DZXhThDn/05.jpg"
                ],
                description: "Esta cÃ¡mara de seguridad exterior 4K 8MP ofrece una vigilancia completa con su lente dual. Incorpora inteligencia artificial para detectar humanos y reducir falsas alarmas.",
                features: [
                    "Calidad de imagen HD 4K 8MP",
                    "DiseÃ±o de doble lente, cobertura completa",
                    "DetecciÃ³n humana de IA, advertencia inteligente",
                    "La funciÃ³n PTZ es flexible, el Ã¡ngulo de visiÃ³n se controla",
                    "DiseÃ±o impermeable al aire libre, estable y confiable"
                ]
            },
            {
                id: 2,
                name: "CÃ¡mara de vigilancia TAPO C100 Tp-Link",
                price: 41.90,
                category: "interior",
                images: [
                    "https://i.postimg.cc/DZFrqHsK/01.png",
                    "https://i.postimg.cc/63wc9Lbq/02.png",
                    "https://i.postimg.cc/Zn5LNYSh/03.png",
                    "https://i.postimg.cc/WzYwwRNq/04.png"
                ],
                description: "CÃ¡mara de seguridad Wi-Fi 1080p para el hogar. Ofrece detecciÃ³n de movimiento con notificaciones, visiÃ³n nocturna, alarma de luz y sonido disuasorio.",
                features: [
                    "1080p. Imagen NÃ­tida como el Cristal",
                    "DetecciÃ³n de Movimiento",
                    "Alarma de Sonido y luz",
                    "VisiÃ³n Nocturna",
                    "Almacenamiento local"
                ]
            },
            {
                id: 3,
                name: "CÃ¡mara de vigilancia MJSXJ03HL Mi CÃ¡mara 2K Xiaomi",
                price: 49.91,
                category: "interior",
                images: [
                    "https://i.postimg.cc/8kfv7Txr/01.png",
                    "https://i.postimg.cc/Jnmf9Xbc/02.webp",
                    "https://i.postimg.cc/5yKDYkDn/03.webp",
                    "https://i.postimg.cc/PJ5BqkVC/04.webp",
                    "https://i.postimg.cc/y6LMbkWc/05.webp"
                ],
                description: "CÃ¡mara de seguridad Xiaomi con resoluciÃ³n 2K para imagen ultra clara. Ofrece visiÃ³n nocturna, comunicaciÃ³n por voz bidireccional y detecciÃ³n de movimiento. Su base magnÃ©tica facilita una instalaciÃ³n versÃ¡til.",
                features: [
                    "Calidad de imagen 2K",
                    "VisiÃ³n nocturna por infrarrojos",
                    "DetecciÃ³n de movimiento",
                    "Control inteligente con voz",
                    "FÃ¡cil instalaciÃ³n",
                    "Soporte magnÃ©tico giratorio de 180Â°"
                ]
            },
            {
                id: 4,
                name: "CÃ¡mara de Vigilancia TAPO C500 TP-Link",
                price: 65.90,
                category: "exterior",
                images: [
                    "https://i.postimg.cc/Hs2kxKWy/01.png",
                    "https://i.postimg.cc/pLWqbB7d/02.jpg",
                    "https://i.postimg.cc/wB323j98/03.jpg",
                    "https://i.postimg.cc/P5SKtwsQ/04.jpg",
                    "https://i.postimg.cc/SK5r9bKX/05.jpg",
                    "https://i.postimg.cc/XJCgc1Zs/07.jpg",
                    "https://i.postimg.cc/J03cSy5J/08.jpg",
                    "https://i.postimg.cc/gjbHMy8m/09.jpg"
                ],
                description: "CÃ¡mara de vigilancia exterior 1080p con cobertura 360Â°. Su inteligencia artificial detecta personas, reduciendo falsas alarmas. Ofrece visiÃ³n nocturna y resistencia al clima (IP65) para una protecciÃ³n completa.",
                features: [
                    "Video 1080p en directo: Videos y fotos mÃ¡s nÃ­tidos y con mÃ¡s detalles en cualquier situaciÃ³n",
                    "DetecciÃ³n AI de movimiento con notificaciones: La cÃ¡mara identifica personas y notificaciones al mÃ³vil al detectar un movimiento sospechoso",
                    "VisiÃ³n PanorÃ¡mica 360Âº: La cÃ¡mara se mueve vertical 130Âº y horizontalmente 360Âº para grabar todos los Ã¡ngulos",
                    "Vision Nocturna: Tapo C500 es capaz de grabar en total oscuridad a una distancia de hasta 29 metros",
                    "Resistente al agua y al polvo IP65: La cÃ¡mara estÃ¡ hermÃ©ticamente sellada frente al agua y el polvo",
                    "Libertad de instalaciÃ³n, en paredes o techos, tÃº decides donde"
                ]
            },
            {
                id: 5,
                name: "CÃ¡mara de Vigilancia Inteligente para exterior 3mpx CCTV-235 Steren",
                price: 94.00,
                category: "exterior",
                images: [
                    "https://i.postimg.cc/VkkLbR5H/01.png",
                    "https://i.postimg.cc/yx7SgL0g/02.webp",
                    "https://i.postimg.cc/MT2Bx6TY/03.webp",
                    "https://i.postimg.cc/nrT9vq1d/04.jpg",
                    "https://i.postimg.cc/J7QXVWWb/05.jpg",
                    "https://i.postimg.cc/YqqWtypT/06.webp",
                    "https://i.postimg.cc/SNTzR7RR/07.webp",
                    "https://i.postimg.cc/y82gX1Fz/08.webp",
                    "https://i.postimg.cc/Gm4Ty8TQ/09.webp"
                ],
                description: "CÃ¡mara de seguridad 3MP (50% mÃ¡s que Full HD) para mÃ¡xima nitidez. Con seguidor de movimiento automÃ¡tico, visiÃ³n nocturna y doble conectividad Wi-Fi o Ethernet para mayor versatilidad.",
                features: [
                    "Seguidor de movimiento: La cÃ¡mara realiza un paneo y sigue el recorrido de algo o alguien",
                    "Ãngulo de visiÃ³n: 70Â°",
                    "Monitorea desde tu celular todo que sucede alrededor de tu casa o negocio",
                    "ConexiÃ³n por Wi-Fi o cable Ethernet",
                    "Controla y visualiza la grabaciÃ³n desde mÃ¡s de un celular y navegador web",
                    "Graba hasta 20 dÃ­as con microSD de 128 GB",
                    "VisiÃ³n nocturna, detecciÃ³n de movimiento"
                ]
            },
            {
                id: 6,
                name: "CÃ¡mara IP Gira 360Â° Smart Wifi Icsee Hd Dome, sistema externo, color blanco",
                price: 30.00,
                category: "exterior",
                images: [
                    "https://i.postimg.cc/xCD2gyTQ/02.png",
                    "https://i.postimg.cc/rsZkkpJn/06.png",
                    "https://i.postimg.cc/HsGGbFN7/01.png",
                    "https://i.postimg.cc/CMnTBwcg/03.png",
                    "https://i.postimg.cc/28nsG2p9/04.png",
                    "https://i.postimg.cc/13HLhX3p/05.png"
                ],
                description: "CÃ¡mara de seguridad exterior tipo domo 1080p. Ofrece cobertura total con rotaciÃ³n de 360Â°, conexiÃ³n WiFi, visiÃ³n nocturna, micrÃ³fono incorporado y grabaciÃ³n local en tarjeta de memoria.",
                features: [
                    "ResoluciÃ³n de cÃ¡mara: HD 1080p",
                    "Capacidad de almacenamiento de 64 GB",
                    "MicrÃ³fono incluido",
                    "Incluye visiÃ³n nocturna"
                ]
            },
            {
                id: 7,
                name: "CÃ¡mara RW110P para exteriores",
                price: 29.00,
                category: "exterior",
                images: [
                    "https://i.postimg.cc/c1YHqhvV/01.png",
                    "https://i.postimg.cc/wTpB9NJ3/02.png",
                    "https://i.postimg.cc/8c8zJJ0K/03.png",
                    "https://i.postimg.cc/Xqw7wNMV/04.png"
                ],
                description: "Sistema de alarma y detecciÃ³n de movimiento inteligente.",
                features: [
                    "ResoluciÃ³n de cÃ¡mara: HD 1080p",
                    "Modo de visiÃ³n nocturna",
                    "FÃ¡cil de lograr visualizaciÃ³n remota en tiempo real",
                    "Admite tarjeta Micro SD y servicio en la nube Inteligente"
                ]
            },
            {
                id: 8,
                name: "CÃ¡mara de Exteriores Doble Lente IP82",
                price: 50.00,
                category: "exterior",
                images: [
                    "https://i.postimg.cc/pL6HVPBc/01.png",
                    "https://i.postimg.cc/HW91cw2y/02.png",
                    "https://i.postimg.cc/Ss0b8V3W/03.png",
                    "https://i.postimg.cc/SsWFGCbH/04.png",
                    "https://i.postimg.cc/4ysC2yJy/05.png"
                ],
                description: "CÃ¡mara Domo Dual De Seguridad Ptz Con Wifi Para Exteriores. Incluye una SD de 64Gb",
                features: [
                    "ResoluciÃ³n: 2MP(1MP + 1MP), 4MP(2MP + 2MP)",
                    "CÃ¡mara de doble lente. La lente superior es de 3,6mm; la lente inferior es de 6mm",
                    "Pantalla dual de doble sensor de doble lente, visualizaciÃ³n de gran angular + VisualizaciÃ³n de larga distancia para lograr un monitoreo claro desde lejos y cerca",
                    "DiseÃ±o de fuente de luz dual, luz infrarroja incorporada + luz blanca, visiÃ³n nocturna infrarroja y visiÃ³n nocturna a todo color se puede configurar"
                ]
            }
        ];
        
        let selectedProducts = [];
        let currentProduct = null;
        let currentImageIndex = 0;
        let zoomLevel = 1;
        let isDragging = false;
        let dragStartX = 0;
        let dragStartY = 0;
        let translateX = 0;
        let translateY = 0;
        
        const productsGrid = document.getElementById('productsGrid');
        const selectedBar = document.getElementById('selectedBar');
        const selectedCount = document.getElementById('selectedCount');
        const shareBtn = document.getElementById('shareBtn');
        const productModal = document.getElementById('productModal');
        const modalClose = document.getElementById('modalClose');
        const modalBody = document.getElementById('modalBody');
        const searchInput = document.getElementById('searchInput');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const toast = document.getElementById('toast');
        const zoomModal = document.getElementById('zoomModal');
        const zoomImage = document.getElementById('zoomImage');
        const zoomClose = document.getElementById('zoomClose');
        const zoomIn = document.getElementById('zoomIn');
        const zoomOut = document.getElementById('zoomOut');
        const zoomReset = document.getElementById('zoomReset');
        const zoomLevelDisplay = document.getElementById('zoomLevel');
        
        // Dark Mode Toggle
        const darkModeToggle = document.getElementById('darkModeToggle');

        function init() {
            renderProducts(products);
            setupEventListeners();
            updateSelectedBar();
            loadDarkModeState();
        }

        // --- Dark Mode Functions ---
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
            updateDarkModeIcon(isDarkMode);
        }

        function loadDarkModeState() {
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
            }
            updateDarkModeIcon(isDarkMode);
        }

        function updateDarkModeIcon(isDarkMode) {
            const icon = darkModeToggle.querySelector('i');
            if (isDarkMode) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }
        // --- End Dark Mode Functions ---

        function renderProducts(productsToRender) {
            productsGrid.innerHTML = '';
            
            if (productsToRender.length === 0) {
                productsGrid.innerHTML = '<p style="text-align: center; grid-column: 1/-1;">No se encontraron productos.</p>';
                return;
            }
            
            productsToRender.forEach(product => {
                const isSelected = selectedProducts.some(p => p.id === product.id);
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image" data-id="${product.id}">
                        <img src="${product.images[0]}" alt="${product.name}">
                        <span class="product-badge">${product.category.toUpperCase()}</span>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <div class="product-price">$${product.price.toFixed(2)}</div>
                        <p class="product-description">${product.description}</p>
                        <div class="product-actions">
                            <button class="btn btn-primary view-details" data-id="${product.id}">
                                <i class="fas fa-eye"></i>
                                Ver detalles
                            </button>
                            <button class="btn btn-secondary ${isSelected ? 'btn-success' : ''} select-product" data-id="${product.id}">
                                <i class="fas ${isSelected ? 'fa-check' : 'fa-plus'}"></i>
                                ${isSelected ? 'Seleccionado' : 'Seleccionar'}
                            </button>
                        </div>
                    </div>
                `;
                productsGrid.appendChild(productCard);
            });
            
            document.querySelectorAll('.view-details').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const productId = parseInt(e.currentTarget.getAttribute('data-id'));
                    showProductDetails(productId);
                });
            });
            
            document.querySelectorAll('.select-product').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const productId = parseInt(e.currentTarget.getAttribute('data-id'));
                    toggleProductSelection(productId);
                });
            });
            
            document.querySelectorAll('.product-image').forEach(img => {
                img.addEventListener('click', (e) => {
                    const productId = parseInt(e.currentTarget.getAttribute('data-id'));
                    showProductDetails(productId);
                });
            });
        }
        
        function setupEventListeners() {
            modalClose.addEventListener('click', closeModal);
            productModal.addEventListener('click', (e) => {
                if (e.target === productModal) closeModal();
            });
            
            shareBtn.addEventListener('click', shareProducts);
            searchInput.addEventListener('input', filterProducts);
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    e.currentTarget.classList.add('active');
                    filterProducts();
                });
            });
            
            zoomClose.addEventListener('click', closeZoomModal);
            zoomModal.addEventListener('click', (e) => {
                if (e.target === zoomModal) closeZoomModal();
            });
            
            zoomIn.addEventListener('click', () => {
                zoomLevel = Math.min(zoomLevel + 0.25, 3);
                updateZoom();
            });
            
            zoomOut.addEventListener('click', () => {
                zoomLevel = Math.max(zoomLevel - 0.25, 1);
                updateZoom();
            });
            
            zoomReset.addEventListener('click', () => {
                zoomLevel = 1;
                translateX = 0;
                translateY = 0;
                updateZoom();
            });
            
            zoomImage.addEventListener('mousedown', startDrag);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', endDrag);
            
            zoomImage.addEventListener('wheel', (e) => {
                e.preventDefault();
                const delta = e.deltaY > 0 ? -0.1 : 0.1;
                zoomLevel = Math.max(1, Math.min(3, zoomLevel + delta));
                updateZoom();
            });

            // New: Dark mode toggle event listener
            darkModeToggle.addEventListener('click', toggleDarkMode);
        }
        
        function showProductDetails(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            currentProduct = product;
            currentImageIndex = 0;
            
            const isSelected = selectedProducts.some(p => p.id === product.id);
            
            let galleryHtml = `
                <div class="image-gallery">
                    <img src="${product.images[0]}" alt="${product.name}" class="gallery-main" id="galleryMain" data-index="0">
                    <div class="gallery-thumbnails">
            `;
            
            product.images.forEach((img, index) => {
                galleryHtml += `
                    <img src="${img}" alt="${product.name}" class="gallery-thumbnail ${index === 0 ? 'active' : ''}" data-index="${index}">
                `;
            });
            
            galleryHtml += `
                    </div>
                </div>
            `;
            
            let infoHtml = `
                <div class="product-info-section">
                    <div class="product-header">
                        <div class="product-title-price">
                            <h2>${product.name}</h2>
                            <div class="modal-price">$${product.price.toFixed(2)}</div>
                        </div>
                    </div>
                    <div class="modal-description">
                        ${product.description}
                    </div>
                    <div class="modal-features">
                        <h3>CaracterÃ­sticas:</h3>
                        <ul>
                            ${product.features.map(feature => `
                                <li><i class="fas fa-check-circle"></i> ${feature}</li>
                            `).join('')}
                        </ul>
                    </div>
                    <div class="modal-actions">
                        <button class="btn btn-primary ${isSelected ? 'btn-success' : ''}" id="modalSelectBtn" data-id="${product.id}">
                            <i class="fas ${isSelected ? 'fa-check' : 'fa-plus'}"></i>
                            ${isSelected ? 'Seleccionado' : 'Seleccionar'}
                        </button>
                        <button class="btn btn-secondary" id="modalShareBtn" data-id="${product.id}">
                            <i class="fab fa-whatsapp"></i>
                            Quiero este producto
                        </button>
                    </div>
                </div>
            `;
            
            modalBody.innerHTML = galleryHtml + infoHtml;
            
            document.getElementById('modalSelectBtn').addEventListener('click', (e) => {
                const productId = parseInt(e.currentTarget.getAttribute('data-id'));
                toggleProductSelection(productId);
                showProductDetails(productId);
            });
            
            document.getElementById('modalShareBtn').addEventListener('click', (e) => {
                const productId = parseInt(e.currentTarget.getAttribute('data-id'));
                shareSingleProduct(productId);
            });
            
            document.querySelectorAll('.gallery-thumbnail').forEach(thumbnail => {
                thumbnail.addEventListener('click', (e) => {
                    const index = parseInt(e.currentTarget.getAttribute('data-index'));
                    const mainImage = document.getElementById('galleryMain');
                    mainImage.src = product.images[index];
                    mainImage.setAttribute('data-index', index);
                    currentImageIndex = index;
                    
                    document.querySelectorAll('.gallery-thumbnail').forEach(t => t.classList.remove('active'));
                    e.currentTarget.classList.add('active');
                });
            });
            
            document.getElementById('galleryMain').addEventListener('click', (e) => {
                const index = parseInt(e.currentTarget.getAttribute('data-index'));
                openZoomModal(product.images[index]);
            });
            
            productModal.classList.add('active');
        }
        
        function closeModal() {
            productModal.classList.remove('active');
        }
        
        function toggleProductSelection(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const index = selectedProducts.findIndex(p => p.id === productId);
            if (index === -1) {
                selectedProducts.push(product);
                showToast('Producto agregado a la selecciÃ³n');
            } else {
                selectedProducts.splice(index, 1);
                showToast('Producto eliminado de la selecciÃ³n');
            }
            
            updateSelectedBar();
            renderProducts(getFilteredProducts());
        }
        
        function updateSelectedBar() {
            selectedCount.textContent = selectedProducts.length;
            
            if (selectedProducts.length > 0) {
                selectedBar.classList.remove('hidden');
            } else {
                selectedBar.classList.add('hidden');
            }
        }
        
        function shareProducts() {
            if (selectedProducts.length === 0) {
                showToast('No hay productos seleccionados');
                return;
            }
            
            let message = "Hola, estoy interesado en las siguientes cÃ¡maras de seguridad:\n\n";
            
            selectedProducts.forEach(product => {
                message += `â¢ ${product.name} - $${product.price.toFixed(2)}\n`;
            });
            
            message += "\nÂ¿PodrÃ­an darme mÃ¡s informaciÃ³n sobre estos productos?";
            
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/593983797677?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank');
        }
        
        function shareSingleProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            let message = `Hola, estoy interesado en esta cÃ¡mara de seguridad:\n\n`;
            message += `â¢ ${product.name} - $${product.price.toFixed(2)}\n`;
            message += `Â¿PodrÃ­an darme mÃ¡s informaciÃ³n sobre este producto?`;
            
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/593983797677?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank');
        }
        
        function filterProducts() {
            const searchTerm = searchInput.value.toLowerCase();
            const activeFilter = document.querySelector('.filter-btn.active').getAttribute('data-filter');
            
            let filtered = products;
            
            if (activeFilter !== 'all') {
                filtered = filtered.filter(product => product.category === activeFilter);
            }
            
            if (searchTerm) {
                filtered = filtered.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) || 
                    product.description.toLowerCase().includes(searchTerm)
                );
            }
            
            renderProducts(filtered);
        }
        
        function getFilteredProducts() {
            const searchTerm = searchInput.value.toLowerCase();
            const activeFilter = document.querySelector('.filter-btn.active').getAttribute('data-filter');
            
            let filtered = products;
            
            if (activeFilter !== 'all') {
                filtered = filtered.filter(product => product.category === activeFilter);
            }
            
            if (searchTerm) {
                filtered = filtered.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) || 
                    product.description.toLowerCase().includes(searchTerm)
                );
            }
            
            return filtered;
        }
        
        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        function openZoomModal(imageSrc) {
            zoomImage.src = imageSrc;
            zoomLevel = 1;
            translateX = 0;
            translateY = 0;
            updateZoom();
            zoomModal.classList.add('active');
        }
        
        function closeZoomModal() {
            zoomModal.classList.remove('active');
        }
        
        function updateZoom() {
            zoomImage.style.transform = `scale(${zoomLevel}) translate(${translateX}px, ${translateY}px)`;
            zoomLevelDisplay.textContent = `${Math.round(zoomLevel * 100)}%`;
        }
        
        function startDrag(e) {
            if (zoomLevel <= 1) return;
            
            isDragging = true;
            dragStartX = e.clientX - translateX;
            dragStartY = e.clientY - translateY;
            zoomImage.style.cursor = 'grabbing';
        }
        
        function drag(e) {
            if (!isDragging) return;
            
            e.preventDefault();
            translateX = e.clientX - dragStartX;
            translateY = e.clientY - dragStartY;
            updateZoom();
        }
        
        function endDrag() {
            isDragging = false;
            zoomImage.style.cursor = zoomLevel > 1 ? 'grab' : 'default';
        }
        
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>